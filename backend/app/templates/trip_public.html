{% extends "base.html" %}

{% block title %}{{ trip.name }} - Border Badge{% endblock %}
{% block description %}{{ trip.name }} in {{ trip.country_name }} - A trip shared on Border Badge{% endblock %}

{% block content %}
{% if trip.cover_image_url %}
<img src="{{ trip.cover_image_url }}" alt="{{ trip.name }}" class="trip-cover">
{% endif %}

<section class="page-header">
    <h1 class="page-title">{{ trip.name }}</h1>
    <p class="page-subtitle">{{ trip.country_name }}</p>
    {% if trip.date_range %}
    <p class="page-meta">{{ trip.date_range }}</p>
    {% endif %}
</section>

<section class="entries-section">
    {% if trip.entries %}
    <div class="entries-grid">
        {% for entry in trip.entries[:12] %}
        <article class="entry-card">
            {% if entry.media_urls and entry.media_urls|length > 0 %}
            <img src="{{ entry.media_urls[0] }}" alt="{{ entry.title }}" class="entry-image">
            {% else %}
            <div class="entry-image-placeholder">
                {% if entry.type == 'food' %}ğŸ½ï¸
                {% elif entry.type == 'stay' %}ğŸ¨
                {% elif entry.type == 'experience' %}â­
                {% else %}ğŸ“{% endif %}
            </div>
            {% endif %}
            <div class="entry-content">
                <span class="entry-type">{{ entry.type }}</span>
                <h3 class="entry-title">{{ entry.title }}</h3>
                {% if entry.place_name %}
                <p class="entry-place">{{ entry.place_name }}</p>
                {% endif %}
                {% if entry.notes %}
                <p class="entry-notes">{{ entry.notes[:150] }}{% if entry.notes|length > 150 %}...{% endif %}</p>
                {% endif %}
            </div>
        </article>
        {% endfor %}
    </div>

    {% if trip.entries|length > 12 %}
    <div class="container" style="text-align: center; margin-top: var(--spacing-xl);">
        <p style="color: var(--color-text-muted);">
            + {{ trip.entries|length - 12 }} more entries in the app
        </p>
    </div>
    {% endif %}
    {% else %}
    <div class="container" style="text-align: center;">
        <p style="color: var(--color-text-muted);">This trip doesn't have any entries yet.</p>
    </div>
    {% endif %}
</section>

<section class="cta-section">
    <h2 class="cta-section-title">Want to log your own trips?</h2>
    <p class="cta-section-text">
        Download Border Badge to track your travels, add photos and notes, and share with friends.
    </p>
    <a href="{{ app_store_url or '#download' }}" class="cta-button cta-button--large">
        Get Border Badge
    </a>
</section>
{% endblock %}
